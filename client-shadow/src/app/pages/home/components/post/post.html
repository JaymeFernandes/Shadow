<div class="flex flex-col gap-1">

  @if(post.manga != null)
  {

    <div class="flex p-4 bg-zinc-800/70 rounded-lg shadow-lg">
      <div class="h-24 w-18 mr-4 rounded overflow-hidden shadow-lg mb-6 border border-zinc-700">
        <img [src]="post.manga.coverImage" alt="cover">
      </div>

      <div class="flex-1">
        <h3 class="text-lg font-semibold hover:text-indigo-400 cursor-pointer">{{post.manga.title}}</h3>
        <p class="text-gray-400 text-sm mb-1">{{post.manga.author}}</p>
      </div>


      <div class="flex items-center gap-1.5">

        @for (item of [1, 2, 3, 4, 5]; track $index)
        {
          @if(item < post.manga.rating)
          {
            <i-lucide [img]="Star" [size]="12" class="fill-yellow-500 text-yellow-500"></i-lucide>
          }
          @else
          {
              <i-lucide [img]="Star" [size]="12" class="text-yellow-500"></i-lucide>
          }
        }

        <span class="text-zinc-400 text-sm mb-1">{{post.manga.rating}}/5</span>
      </div>
    </div>
  }

    <div class="bg-zinc-800/70 rounded-lg shadow-lg w-full">
      <div class="flex flex-col gap-3 items-start p-4">
        <div class="flex items-center gap-2">
          <img class="h-11 w-11 border-4 border-indigo-600/20 bg-indigo-800/20 rounded-full" [src]="post.author.avatar" alt="Avatar">
          <h3 class="text-lg font-semibold">{{post.author.name}}</h3>
        </div>
        <div class="flex flex-col gap-4  overflow-auto border-t border-zinc-500 py-3.5">
          <div [innerHTML]="sanitizedHtml()" class="markdown-body w-full lg:px-3"></div>
        </div>

        <div class="flex items-center justify-start gap-3 pt-5">
          <div class="flex items-center gap-1">

            @if (post.userHasLiked)
            {
              <i-lucide class="fill-red-500 text-red-500"  [size]="18" [img]="Heart"></i-lucide>
            }
            @else
            {
              <i-lucide [size]="18" [img]="Heart"></i-lucide>
            }

            <span class="text-zinc-400">{{post.likes}}</span>

          </div>

          <div class="flex items-center gap-1">

            <i-lucide [size]="18" [img]="MessageCircle"></i-lucide>
            <span class="text-zinc-400">{{post.comments.length}}</span>

          </div>

          <i-lucide [size]="18" [img]="Share"></i-lucide>
        </div>
      </div>
    </div>
  </div>





